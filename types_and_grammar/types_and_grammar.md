# Types and grammar

* Типы
* Значения
* * Массивы
* * Строки
* * Числа
* * Особые значения
* * Значения и Ссылки

Тип - это внутренний, встроенный набор характеристик, которые однозначно идентифицируют поведение конкретной величины
и отличают его от других величин, как для движка, так и для разработчика.

## Типы
В JS 7 встроенных типов:
* `null`
* `undefined`
* `boolean`
* `number`
* `string`
* `object`
* `symbol`

Все типы, кроме `object` называются примитивами

У переменных нет типов, они есть только у значений. Переменные принимают в себя любые значения любых типов.

:warning: `typeof null === 'object'`

:memo: Проверка на null, где `const a = null`;
`(!a && typeof === 'object') // true`

На самом деле функция - 'function object', с внутренним свойством `[[CALL]]`, которое позволяет функции быть вызванной

:memo: Смотри страницу 79 и 164 спецификации
###### здесь и дальше "спецификация" - ECMAScript 2018 9th Edition / June 2018

Вызов не объявленной (`undeclared`) переменной вызывает ошибку. Использование объявленной, но "всплывшей" (var) переменной, в которой нет значения (`undefined`) - ошибку не вызывает.
```
console.log(a); // ReferenceError: a is not defined
```
```
console.log(a); // undefined, поскольку var a объявлена и всплывает наверх функции
var a;
```
или
```
console.log(a); // ReferenceError: a is not defined
let a = 42;
```

При этом возможно использование `undeclared` переменной вместе с `typeof`, результатом будет `undefined`. Если после этого использовать необъявленную переменную, ошибка все равно появится.
```
console.log(typeof pew);
console.log(pew);
// undefined
// ReferenceError: pew is not defined
```


## Значения
### Массивы
Массивы имеют цифровые индексы, но также принимают строки в качестве ключей, эти значения не учитываются в длине массива. Если строка будет состоять из числового значения, то она будет рассматриваться как обычный индекс массива (и увеличит длину, в случае необходимости):
```
const a = [];
a["10"] = true;
console.log(a); // [empty x 10, true];
```
Конструктор `Array` не требует `new`, поэтому вызовы `new Array(1, 2, 3)` и `Array(1, 2, 3)` идентичны.
Если в конструктор `Array` передан только 1 числовой аргумент - будет создан пустой массив этой длины
```
Array(5); // [empty x 5]
```
```
Array(1, 2); // [1, 2]
```
Массив с пустыми слотами называется разреженным.

:exclamation: Пустая ячейка не содержит ничего, даже undefined. Использование delete на массиве удаляет значения, но длина не изменится (ячейка станет `empty`);
Поэтому "пустой" массив не итерируется:
```
Array(5).forEach(console.log) // никакого вывода
```
#### Массивоподобные
Например: HTMLCollection, arguments

Для числовых значений используется стандарт, основанный на IEEE 754, использует `dobule-precision (64-bit)` формат стандарта.